"use strict";(self.webpackChunkraffaello_docs=self.webpackChunkraffaello_docs||[]).push([[511],{3829:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>s,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"api/raffaello-canvas-layer","title":"Raffaello_CanvasLayer","description":"Main element to draw on a Raffaello_Canvas. They should only be called via RaffaelloCanvas.addLayer() methods. This will ensure each layers are added accordingly to the RaffaelloCanvas.layers array.","source":"@site/docs/api/02_raffaello-canvas-layer.md","sourceDirName":"api","slug":"/api/raffaello-canvas-layer","permalink":"/raffaello-docs/api/raffaello-canvas-layer","draft":false,"unlisted":false,"editUrl":"https://github.com/TheoKVA/raffaello-docs/tree/main/docs/api/02_raffaello-canvas-layer.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"Raffaello_Canvas","permalink":"/raffaello-docs/api/raffaello-canvas"},"next":{"title":"Raffaello_ImageCropper","permalink":"/raffaello-docs/api/raffaello-image-cropper"}}');var l=t(4848),i=t(8453),r=t(8069);const s={},d="Raffaello_CanvasLayer",c={},o=[{value:"Initiated Properties",id:"initiated-properties",level:2},{value:"Public Methods",id:"public-methods",level:2},{value:"draw()",id:"draw",level:3},{value:"drawText()",id:"drawtext",level:3},{value:"drawImage()",id:"drawimage",level:3},{value:"drawImageInput()",id:"drawimageinput",level:3},{value:"drawRect()",id:"drawrect",level:3},{value:"drawStar()",id:"drawstar",level:3},{value:"drawGradient()",id:"drawgradient",level:3},{value:"prepareFilter()",id:"preparefilter",level:3},{value:"applyFilter()",id:"applyfilter",level:3},{value:"applyLUT()",id:"applylut",level:3}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"raffaello_canvaslayer",children:"Raffaello_CanvasLayer"})}),"\n","\n",(0,l.jsxs)(n.p,{children:["Main element to draw on a ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"Raffaello_Canvas"})}),". They should only be called via ",(0,l.jsx)(n.code,{children:"Raffaello_Canvas.addLayer()"})," methods. This will ensure each layers are added accordingly to the ",(0,l.jsx)(n.code,{children:"Raffaello_Canvas.layers"})," array."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Raffaello_Canvas"})," should typically be initiated with ",(0,l.jsx)(n.code,{children:".addLayer()"})," methods within the ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"templateInstructions()"})})," function of the ",(0,l.jsx)(n.strong,{children:"global class"}),"."]}),"\n",(0,l.jsx)(r.A,{className:"small-code",language:"javascript",title:"Usage exemple",children:"new class {\n  constructor() { \n      this.canvas = new Raffaello_Canvas({ ... });\n  }\n\n  templateInstructions() {\n      // Capture the context of the template\n      const thisTemplate = this;\n\n      // LAYER 0\n      // highlight-start\n      this.canvas.addLayer().draw(function() {\n          ... \n      });\n      // highlight-end\n\n      // LAYER 1\n      // highlight-start\n      this.canvas.addLayer().draw(function() {\n          ... \n      });\n      // highlight-end\n\n      // ETC.\n  }\n}"}),"\n",(0,l.jsxs)(n.p,{children:["Calling a new ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"Raffaello_CanvasLayer"})})," is like creating a new ",(0,l.jsx)(n.code,{children:"canvas"})," on which you will pass all the drawing instructions using the method ",(0,l.jsx)(n.code,{children:"draw()"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"initiated-properties",children:"Initiated Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Property"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"this.canvas"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"..."}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"..."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"this.context"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"..."}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"..."})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"public-methods",children:"Public Methods"}),"\n",(0,l.jsx)(n.h3,{id:"draw",children:"draw()"}),"\n",(0,l.jsx)(n.p,{children:"Introduction."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"this.canvas.addLayer().draw(function() {\n    // Layer drawing instructions\n});\n"})}),"\n",(0,l.jsx)(n.p,{children:"Description"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:".addLayer(function)\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.em,{children:"unamed"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"function"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.em,{children:(0,l.jsx)(n.code,{children:"{}"})})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"The drawing instructions for the layer"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"void"})," \u2014 This method performs a side effect (add the drawing instructions to the layer). It does not return any value."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"drawtext",children:"drawText()"}),"\n",(0,l.jsx)(n.p,{children:"Introduction"}),"\n",(0,l.jsx)(r.A,{className:"small-code",language:"javascript",title:"Extended version",children:"this.drawText({\n  text: thisTemplate.container.querySelector('.js-textInput').value,\n  fontFamily: 'RTSNeue-Medium',\n  fontSize: 30,\n  fontLineHeight: 34,\n  fontKerningOptical: true, // (Optional) Default to false\n  fontLetterSpacing: 0,  // (Optional) Default to 0 // (in prct)\n  fontFillColor: 'white',\n  textAlign: { // Optional\n      horizontal: 'left', // Default to 'left' // 'left' | 'center' | 'right'\n      vertical: 'bottom', // Default to 'bottom' // 'top' | 'center' | 'bottom'\n  },\n  textBaseline: 'hanging', // (Optional) Default to 'alphabetic'\n  anchorPoint: 'true', // (Optional) Default to 'none' // 'none' | 'true' | 'L'\n  position: {\n      x: 40,\n      y: 1090,\n      maxWidth: 0, // (Optional) Default to '0' // '0' means no limit\n      maxWidthRescale: false, // (Optional) Default to false // false (means line break) | true (means rescale)\n      maxLines: 0, // (Optional) Default to '0' // '0' means no limit\n      ignoreEmptyLines: true, // (Optional) Default to true\n      ignoreDoubleSpaces: true, // (Optional) Default to true\n  },\n  bounds: [ true, false ], // (Optional) Default to [ true, true ] // [ include ascent?, include descent? ]\n  highlight: { // (Optional) Change style of text between '\xa7'\n      fontFamily: 'RTSNeueACTU-ExtraLight',\n      fontSize: 30,\n      fontLetterSpacing: 0,\n      fontFillColor: 'white',\n  },\n  background: 'red', // (Optional)\n  background: { // (Optional)\n      color: 'red', // (Optional) Default to 'red'\n      stroke: { // (Optional) \n          style: \"middle\", // Default to 'middle' // 'middle' | 'inside' | 'outside'\n          color: 'red', // Default to 'red'\n          width: 0,\n      },\n      cornerRadius: 0, // (Optional) Default to 0\n      margins: { // (Optional)\n          top: 0,\n          bottom: 0,\n          right: 0,\n          left: 0,\n      },\n  },\n});\n  this.applyFilter(\n  'drop-shadow(0px 0px 60px rgb(0 0 0 / 70%))'\n);"}),"\n",(0,l.jsx)(n.p,{children:"Description"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:".addLayer(function)\n"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.em,{children:"unamed"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"function"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.em,{children:(0,l.jsx)(n.code,{children:"{}"})})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"The drawing instructions for the layer"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"void"})," \u2014 This method performs a side effect (draw text on the canvas). It does not return any value."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"drawimage",children:"drawImage()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript"})}),"\n",(0,l.jsx)(n.h3,{id:"drawimageinput",children:"drawImageInput()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"    this.drawImageInput(thisTemplate.inputImage);\n    this.drawImageInput(thisTemplate.inputImage, 0, 0);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"drawrect",children:"drawRect()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"this.drawRect({\n    x: 0,            // default 0\n    y: 0,            // default 0\n    width: 100,      // default canvas.width\n    height: 100,     // default canvas.height\n    color: \"black\", // (Optional) default 'black'\n    cornerRadius: 0, // (Optional) default 0 // 5 || [5] | [5, 5] | [5, 10, 5, 10]\n    stroke: {\n        style: \"middle\", // (Optional) default 'middle' // 'inside' | 'outside' | 'middle'\n        width: 0,  // (Optional) default 0\n        color: \"black\", // (Optional) default 'black'\n    },\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"drawstar",children:"drawStar()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'this.drawStar({\n    x_center: 0,\n    y_center: 0,\n    spikes: 5,\n    color: "red",\n    outerRadius: 100,\n    innerRadius: 150,\n})\n'})}),"\n",(0,l.jsx)(n.h3,{id:"drawgradient",children:"drawGradient()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"this.drawGradient({\n    x: 10,\n    y: 10,\n    width: 90,\n    height: 80,\n    direction: 'UP', // 'UP', 'RIGHT', 'DOWN', 'LEFT'\n    gradient: [\n        [0.0, `rgba(0,0,0, 0)`], // Start\n        [1.0, `rgba(0,0,0, 0.8)`], // End\n    ]\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"preparefilter",children:"prepareFilter()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript"})}),"\n",(0,l.jsx)(n.h3,{id:"applyfilter",children:"applyFilter()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"this.applyFilter(`drop-shadow(0px 0px 30px rgba(0, 0, 0, 1))`);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"applylut",children:"applyLUT()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript"})})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);